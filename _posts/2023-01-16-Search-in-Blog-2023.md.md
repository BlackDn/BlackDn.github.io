---
layout:       post  
title:        ä¸ºGithub Pageåšå®¢æ·»åŠ æœç´¢åŠŸèƒ½  
subtitle:     JSå®ç°é¡µé¢æ ·å¼å’Œå¼¹èµ·å…³é—­ï¼ŒSimple-Jekll-Searchå®ç°æœç´¢  
date:         2023-01-16  
auther:       BlackDn  
header-img:   img/18mon2_11.jpg  
catalog:      true  
tags:    
    - Blog  
    - Tutorial  
---

> â€œå¦‚ç™½é©¹è¿‡éš™ï¼Œè½¬ç¬å³é€ã€‚å¦‚å±±å²³å±‚å³¦ï¼Œè¿ç»µä¸ç»ã€‚â€

# ä¸ºGithub Pageåšå®¢æ·»åŠ æœç´¢åŠŸèƒ½

## å‰è¨€

é—²é‡Œå·å¿™ç§ç§ç»™åšå®¢æ•´äº†ä¸ªæœç´¢åŠŸèƒ½  
è¿™ä¸¤å¤©ä¸‹é›ªäº†â„ï¸ï¼ŒçœŸå¥½  
å—æ–¹å­©å­ç¬¬ä¸€æ¬¡çœ‹åˆ°ç§¯é›ªï¼Œæ¿€åŠ¨åäº†â›„


## Github Pageç®€ä»‹

[GitHub Pages](https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages#limits-on-use-of-github-pages)æ˜¯Githubæ¨å‡ºçš„ä¸€ä¸ªé™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œå®ƒå¯ä»¥ä»ä»“åº“è·å– HTMLã€CSS å’Œ JavaScript æ–‡ä»¶ï¼Œå¹¶è§£ææˆä¸€ä¸ªç½‘ç«™ï¼Œé€šè¿‡ç‰¹å®šçš„åŸŸåè¿›è¡Œè®¿é—®ï¼ˆå¤§å¤šä¸º`xxx.github.io`ï¼‰ï¼Œåˆ†ä¸ºä¸ªäººã€ç»„ç»‡ã€é¡¹ç›®ä¸‰ç§ã€‚  
æ‰€ä»¥å…¶å®å¾ˆå¤šå¼€æºé¡¹ç›®çš„é¦–é¡µéƒ½æ˜¯é€šè¿‡Github Pageæ¥å®ç°çš„ï¼Œæ¯”å¦‚è‘—åå¼€æºç»„ç»‡[Square Open Source](https://square.github.io/)çš„ç½‘ç«™ï¼ˆ[OKHttp](https://github.com/square/okhttp)å°±æ˜¯ä»–ä»¬æ•´çš„ï¼‰

Github Pageè§„å®šä¸€ä¸ªè´¦æˆ·åªèƒ½åˆ›å»ºä¸€ä¸ª ä¸ªäººæˆ–ç»„ç»‡ç«™ç‚¹ï¼Œé¡¹ç›®ç«™ç‚¹åˆ™æ²¡æœ‰é™åˆ¶ã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠGithub Pageå½“æˆä¸€ä¸ªæœåŠ¡å™¨ï¼Œè‡ªç„¶å¯ä»¥æ­å»ºåšå®¢ã€‚å¦‚æœä½ ä¹Ÿæƒ³é€šè¿‡Github Pageæ­å»ºä¸ªäººåšå®¢ï¼Œå¯ä»¥å‚è€ƒ**qiubaiying**çš„[è¿™ç¯‡æ–‡ç« ï¼ˆReadme.mdï¼‰](https://github.com/qiubaiying/qiubaiying.github.io)ã€‚æœ€åˆæˆ‘ä¹Ÿæ˜¯é€šè¿‡è¿™ç¯‡æ–‡ç« æ­å»ºçš„åšå®¢ï¼Œåœ¨æ­¤æ„Ÿè°¢BYå¤§ä½¬ã€‚

è™½ç„¶BYå¤§ä½¬ä¸ºæˆ‘ä»¬æä¾›äº†æ¨¡æ¿ï¼Œä½†æ˜¯å…¶ä¸­å¹¶æ²¡æœ‰æœç´¢åŠŸèƒ½ã€‚ä¸€å¼€å§‹æˆ‘çš„æ–‡ç« æ¯”è¾ƒå°‘è¿˜æ— æ‰€è°“ï¼Œä½†æ˜¯éšç€æ–‡ç« çš„å˜å¤šï¼Œå¯»æ‰¾ä¸€äº›å†å²æ–‡ç« å°±å¿…é¡»é€šè¿‡`é¦–é¡µ-> Tag -> æ–‡ç« ` æ¥è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ¯”è¾ƒè´¹æ—¶è´¹åŠ›ï¼Œç‰¹åˆ«æ˜¯æˆ‘è¿˜æœ‰ä¸€äº›è®°å½•Gitå‘½ä»¤æˆ–æ“ä½œæµç¨‹çš„æ–‡ç« ï¼Œç»å¸¸éœ€è¦ç”¨åˆ°ï¼ˆæƒ³ä¸èµ·æ¥å°±å¾—æ¥çœ‹çœ‹è‡ªå·±å°æŠ„å˜›ï¼‰ã€‚  
äºæ˜¯ä¹ï¼Œå°±æƒ³ç€æ¥å†™ä¸€ä¸ªæœç´¢çš„åŠŸèƒ½å•¦ï¼Œä¸è¿‡æœ€åˆæˆ‘åªæ˜¯æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä¸çŸ¥é“å¦‚ä½•å…¥æ‰‹ï¼Œç›´åˆ°çœ‹åˆ°äº†[Weiwqçš„åšå®¢](https://weiwangqiang.github.io/)ï¼Œåœ¨è¿™é‡Œæ„Ÿè°¢Weiwqå¤§ä½¬ã€‚ï¼ˆps. Weiwqçš„åšå®¢ä¸­è¿˜æœ‰è®¸å¤šæœ‰è¶£å°åŠŸèƒ½ï¼Œå¦‚ç½®é¡¶ã€ä¸­è‹±æ–‡è½¬æ¢ç­‰ï¼‰

### Github Pageä½œä¸ºä¸ªäººåšå®¢çš„ä¼˜ç¼ºç‚¹

æ—¢ç„¶æåˆ°äº†å°±é¡ºä¾¿è¯´ä¸€ä¸‹ä¼˜ç¼ºç‚¹å§ï¼Œè¿™ç©æ„æˆ‘è€æ—©å°±æƒ³åæ§½äº†=ã€‚=  
**ä¼˜ç‚¹**æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å’±**ä¸ç”¨è‡ªå·±ç§ŸæœåŠ¡å™¨**ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæ˜¯ç™½å«–ï¼Œç™½å«–è°ä¸çˆ±å˜›ã€‚è€Œä¸”åšå®¢æ¨¡æ¿ï¼ˆä¸»é¢˜ï¼‰ä¹Ÿæœ‰è®¸å¤šå¼€æºçš„ä»£ç å®ç°äº†ï¼Œå¯ä»¥æ‰¾æ‰¾è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼ˆå½“ç„¶Hexoç­‰ä¹Ÿè‡ªå¸¦è®¸å¤šä¸»é¢˜ï¼Œæœ‰äº›é«˜å¤§ä¸Šçš„è¿˜å¾—æ”¶è´¹å‘¢ï¼‰  
ç¼ºç‚¹è¯´å®è¯å°±æœ‰ç‚¹å¤šäº†ï¼Œå› ä¸ºç”¨çš„æ˜¯Githubçš„æœåŠ¡å™¨ï¼Œå†åŠ ä¸Šâ€œç½‘ç»œé•¿åŸâ€çš„é™åˆ¶ï¼Œå¯¼è‡´è®¿é—®ä¸æ˜¯å¾ˆç¨³å®šï¼Œå¸¸ä¼šæœ‰å›¾è£‚çš„æƒ…å†µï¼›å…¶æ¬¡å°±æ˜¯å‰ä¸ä¹…Github Pageå¯¹å…¶ä½¿ç”¨ä½œå‡ºäº†é™åˆ¶ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹å‡ ç‚¹ï¼š

1. GitHub Pagesçš„å­˜å‚¨ä»“åº“`å»ºè®®`ä¸è¶…è¿‡1GBï¼ˆè½¯é™åˆ¶ï¼ŒGithubå¯¹æ¯ä¸ªä»“åº“éƒ½æœ‰è¿™ä¸ªå»ºè®®ï¼Œæ¯•ç«Ÿå¤ªå¤§å…‹éš†éƒ½è¦ä¸‹è½½åŠå¤©ï¼‰
2. GitHub Pagesçš„å‘å¸ƒç«™ç‚¹ä¸èƒ½è¶…è¿‡1GBï¼ˆç¡¬é™åˆ¶ï¼Œä½†æ˜¯æˆ‘è¦æ˜¯èƒ½å†™æ–‡ç« è¶…è¿‡1GBï¼Œä¼°è®¡é‚£ä¼šå„¿å¤´å‘ä¹Ÿæ‰å…‰äº†ï¼‰
3. å¸¦å®½é™åˆ¶æ¯æœˆ100GBï¼ˆè½¯é™åˆ¶ï¼‰
4. é™åˆ¶ç«™ç‚¹æ¯å°æ—¶ 10 æ¬¡ç”Ÿæˆï¼ˆè½¯é™åˆ¶ï¼‰
5. åœ¨é«˜å¹¶å‘æˆ–æµé‡é«˜å³°æœŸä¼šé™åˆ¶é€Ÿç‡

å…·ä½“å†…å®¹å¯è§[Github Pagesä½¿ç”¨é™åˆ¶](https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages#limits-on-use-of-github-pages)  
ä½†æ˜¯è¦æˆ‘è¯´ï¼Œè¿˜æ˜¯é’±é’±é‡è¦ï¼Œä»€ä¹ˆæµé‡å®¹é‡é™åˆ¶ï¼Œå¯¹æˆ‘è¿™ç§æ²¡å‡ ç¯‡æ–‡ç« ï¼Œæ–‡ç« ä¹Ÿæ²¡å‡ ä¸ªå­—çš„å°ä¼—äººç‰©æ¥è¯´è·Ÿæ²¡æœ‰ä¸€æ ·å˜›ã€‚é’±é’±ğŸ’°ï¼Œæˆ‘çš„é’±é’±ğŸ’°

## æœç´¢åŠŸèƒ½

å¦‚æœæˆ‘çš„gifèƒ½æ­£å¸¸åŠ è½½çš„è¯ï¼Œå’±ä»¬çš„ä¸€ä¸ªç®€å•çš„æœç´¢åŠŸèƒ½å¤§æ¦‚æ˜¯ä¸‹é¢è¿™æ ·ï¼š  
å¯¼èˆªæ çš„å³ä¸Šè§’å¤šäº†ä¸ªæœç´¢å›¾æ ‡ï¼Œç‚¹å‡»åå¼¹å‡ºä¸€ä¸ªæœç´¢é¡µé¢ï¼›åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ä¼šåŠ¨æ€æ£€ç´¢åŒ¹é…çš„æ–‡ç« ï¼Œå¹¶å…è®¸æˆ‘ä»¬ç‚¹å‡»è·³è½¬ã€‚

![preview](https://media.giphy.com/media/1bNX0bpq9TVRDpahXr/giphy.gif)

å‡è®¾æˆ‘ä»¬æ˜¯BYå¤§ä½¬çš„åŒé—¨å¼Ÿå­ï¼Œé‚£ä¹ˆç°åœ¨æˆ‘ä»¬çš„åšå®¢å°±æ˜¯é€šè¿‡Jekyllæ¥ç”Ÿæˆçš„ã€‚Hexoå¤§å®¶å¯èƒ½å¬çš„ä¼šæ¯”è¾ƒå¤šï¼ŒJekyllå’Œå®ƒå·®ä¸å¤šï¼Œéƒ½æ˜¯é™æ€ç½‘é¡µçš„ç”Ÿæˆå™¨ï¼Œæƒ³è¦è¿›ä¸€æ­¥äº†è§£çš„å¯ä»¥ç§»æ­¥[Jekyllå®˜ç½‘](https://jekyllrb.com/)ã€‚  
è¿™é‡Œå…ˆè®©å¤§å®¶çŸ¥é“æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œé™¤äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„ä¸‰å‰‘å®¢å¤–ï¼Œç­‰ä¼šè¿˜å¾—é å®ƒå®ç°æœç´¢åŠŸèƒ½å‘¢ã€‚

### å®ç°é™æ€å¸ƒå±€

ç„¶åå°±æ­£å¼å¼€å§‹å®ç°æœç´¢åŠŸèƒ½å•¦ï¼Œå½“ç„¶å…ˆä»ç®€å•çš„å¸ƒå±€å…¥æ‰‹   
é¦–å…ˆæˆ‘ä»¬åœ¨å¯¼èˆªæ åŠ ä¸€ä¸ªæœç´¢çš„iconï¼š

```html
<!-- nav.html -->
		Â·Â·Â·Â·Â·Â·
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
	                Â·Â·Â·Â·Â·Â·
	                <!-- newly added -->
                    <li class="search-icon">
                        <a href="javascript:void(0)">
                            <i class="fa fa-search"></i>
                        </a>
                    </li>
                    <!-- newly added end -->
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
        Â·Â·Â·Â·Â·Â·
```

ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ª`_includes/search.html`ï¼š

```html
<!-- search.html -->
<div class="search-page">
    <div class="search-icon-close-container">
      <span class="search-icon-close">
        <i class="fa fa-chevron-down"></i>
      </span>
    </div>
    <div class="search-main container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <form></form>
          <input type="text" id="search-input" placeholder="$ grep...">
          </form>
          <div id="search-results" class="mini-post-list"></div>
        </div>
      </div>
    </div>
  </div>
```

è¿™ä¸ªé¡µé¢å°±æ˜¯æˆ‘ä»¬ç‚¹å‡»å¯¼èˆªæ çš„æœç´¢iconåå¼¹å‡ºçš„é¡µé¢ï¼Œå…¶å†…å®¹åˆ†ä¸ºä¸¤å—ï¼Œä¸€ä¸ªæ˜¯å‘ä¸‹çš„ç®­å¤´å›¾æ ‡iconï¼Œç‚¹å‡»å®ƒæˆ‘ä»¬ä¼šå›åˆ°åŸæ¥çš„é¡µé¢ï¼›ç„¶åå°±æ˜¯æœç´¢æ¡†å’Œç»“æœå±•ç¤ºçš„éƒ¨åˆ†ã€‚   
è¿™ä¸¤å¤„æˆ‘ä»¬éƒ½ä½¿ç”¨äº†[Font Awesome](https://fontawesome.com/)æä¾›çš„å›¾æ ‡ï¼ˆ`fa fa-search`å’Œ`fa fa-chevron-down`ï¼‰

æœ€ååœ¨`default.html`ä¸­å¼•å…¥æœç´¢é¡µé¢`search.html`

```html
Â·Â·Â·Â·Â·Â·
<body ontouchstart="">
    {% include nav.html %}
	<!-- newly added -->
	{% include search.html %}
	<!-- newly added end -->
    {{ content }}
    {% include footer.html %}
Â·Â·Â·Â·Â·Â·
```

### å®ç°ç‚¹å‡»æœç´¢

ä¸å‡ºæ„å¤–çš„è¯ï¼Œç°åœ¨çš„å¯¼èˆªæ ä¸Šæ–¹ä¼šå‡ºç°ä¸€ä¸ªç©ºç™½åŒºåŸŸï¼Œé‚£å°±æ˜¯æˆ‘ä»¬å†™çš„`search.html`ï¼Œè€Œå³ä¸Šè§’åˆ™æ˜¯æˆ‘ä»¬çš„å¯¼èˆªæ å’Œæœç´¢å›¾æ ‡ï¼ˆå¯èƒ½å› ä¸ºæ˜¯ç™½è‰²èäºèƒŒæ™¯çœ‹ä¸è§ï¼‰ã€‚   
æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»æœç´¢iconï¼Œç„¦ç‚¹ç»™åˆ°è¾“å…¥æ¡†ï¼Œå®ç°åŠ¨æ€æœç´¢åŠŸèƒ½ã€‚

è¦å¦‚ä½•å®ç°åŠ¨æ€æœç´¢å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å‚è€ƒäº†å¼€æºåº“[Simple-Jekll-Search](https://github.com/christian-fei/Simple-Jekyll-Search)ï¼Œå®ƒèƒ½ä¸ºä¸€ä¸ªJekyllåšå®¢æä¾›æœç´¢åŠŸèƒ½ã€‚å…¶ä»“åº“ä¸­æä¾›äº†ç¤ºä¾‹ï¼ˆexampleç›®å½•ï¼‰ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥å»è¿›ä¸€æ­¥æŸ¥çœ‹å…¶ä½¿ç”¨ã€‚  
æ€»ä¹‹ï¼Œæˆ‘ä»¬ä»¿ç…§å®ƒï¼Œæ–°å»º`js/simple-jekyll-search.min.js`ã€‚å†…å®¹æœ‰ç‚¹é•¿è€Œä¸”æ˜¯`.min.js`çš„å‹ç¼©jsæ–‡ä»¶ï¼Œå¯è¯»æ€§å·®ï¼Œå°±ä¸è´´ä»£ç äº†ï¼Œå…·ä½“å†…å®¹å¯ä»¥å»æˆ‘ä»“åº“çš„æºæ–‡ä»¶å¤åˆ¶ä¸€ä¸‹ï¼š[/js/simple-jekyll-search.min.js](https://github.com/BlackDn/BlackDn.github.io/blob/master/js/simple-jekyll-search.min.js)

æœ‰äº†`simple-jekyll-search.min.js`åï¼Œæˆ‘ä»¬éœ€è¦åœ¨`_includes/footer.html`ä¸­å°†å…¶å¼•ç”¨ï¼š

```html
......
<!-- in footer.html -->
<!-- Bootstrap Core JavaScript -->
<script src="{{ "/js/bootstrap.min.js " | prepend: site.baseurl }}"></script>

<!-- newly added -->
<!-- Simple Jekyll Search -->
<script src="{{ "/js/simple-jekyll-search.min.js" | prepend: site.baseurl }}"></script>
<!-- newly added end -->

<!-- Custom Theme JavaScript -->
<script src="{{ "/js/hux-blog.min.js " | prepend: site.baseurl }}"></script>
......
```

ç„¶ååœ¨**æ ¹ç›®å½•**ä¸‹åˆ›å»º`search.json`æ–‡ä»¶ï¼Œä½œä¸ºæœ¬åœ°æœç´¢ç»“æœçš„ä¸€ä¸ªå°æ•°æ®æºåŠå…¶æ ¼å¼ï¼ˆå¼€å¤´çš„`layout: null`æ˜¯å‘Šè¯‰Jekyllè®©å®ƒåˆ«è§£ææˆå…¶ä»–æ–‡ä»¶äº†ï¼‰

```json
---
layout: null
---
[
  {% for post in site.posts %}
    {
      "title"    : "{{ post.title | escape }}",
      "subtitle" : "{{ post.subtitle | escape }}",
      "tags"     : "{{ post.tags | join: ', ' }}",
      "url"      : "{{ site.baseurl }}{{ post.url }}",
      "date"     : "{{ post.date }}"
    } {% unless forloop.last %},{% endunless %}
  {% endfor %}
]
```

æœ€åé€šè¿‡JSå®ç°ç‚¹å‡»å¼¹å‡ºå’Œå…³é—­æœç´¢é¡µé¢çš„åŠŸèƒ½ï¼Œè¿™é‡Œå†™åœ¨äº†`_includes/footer.html`çš„**æœ€ä¸‹é¢**ï¼Œè™½ç„¶ä¸æ˜¯å¾ˆåˆè§„ï¼Œä¸è¿‡å¯ä»¥ä¿è¯æˆ‘ä»¬é¡µé¢æ¸²æŸ“å®Œäº†æ‰è¿›è¡Œç»‘å®šï¼Œé¿å…å‡ºç°æ§ä»¶è¿˜æ²¡æ¸²æŸ“æˆ‘ä»¬å°±æ‰¾å®ƒçš„ç±»åæ‰€å¯¼è‡´çš„é”™è¯¯ã€‚

```html
<!-- in footer.html -->
<!-- Simple Jekyll Search -->
<script>
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        //if empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        templateMiddleware: function(prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function() {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400);

            if($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);
                });
                $searchInput.focus();
            }
        });
    });
</script>
```

å¯ä»¥çœ‹åˆ°è¿™é‡Œé’ˆå¯¹ä¸¤ç§åŠŸèƒ½æä¾›äº†æ–¹æ³•ã€‚  
ä¸Šé¢çš„`htmlDecode()`å’Œ`SimpleJekyllSearch()`æ˜¯æ ¹æ®**Simple-Jekll-Search**è€Œæ¥çš„ï¼Œå…¶å…·ä½“è°ƒç”¨åœ¨`simple-jekyll-search.min.js`ä¹‹ä¸­ã€‚  
ä¸‹é¢çš„æ–¹æ³•åˆ™æ˜¯å®ç°ç‚¹å‡»iconä¹‹åçš„å¼¹å‡º/æ”¶èµ·é¡µé¢çš„åŠŸèƒ½ï¼Œæ¯”è¾ƒå¥½çœ‹æ‡‚ï¼Œé€šè¿‡ç»å…¸çš„JSï¼ˆj Queryï¼‰å’ŒDOMæ¥å®ç°ã€‚

ç®€å•æ¥è¯´ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»é¦–é¡µçš„**æœç´¢icon**åï¼Œè®°å½•å½“å‰`body`æ ‡ç­¾çš„ç±»åï¼ˆ`var prevClasses = $body.attr('class') || ''`ï¼‰ï¼Œç»™æ–°é¡µé¢ï¼ˆæœç´¢é¡µé¢ï¼‰çš„`body`åŠ ä¸Š`'no-scroll'`çš„ç±»åï¼›  
ç„¶å`toggleClass('search-active')`ä¼šè®©å½“å‰é¡µé¢åœ¨æœ‰`'search-active'`å’Œæ²¡æœ‰è¿™ä¸ªç±»åä¹‹é—´åˆ‡æ¢ï¼ˆæ²¡æœ‰åˆ™æ·»åŠ ï¼Œæœ‰åˆ™ç§»é™¤ï¼‰ã€‚æœ‰è¿™ä¸ªç±»åè¡¨ç¤ºåœ¨æœç´¢é¡µé¢ï¼Œæ²¡æœ‰åˆ™ä¸åœ¨ï¼›  
åœ¨è¿™ä¹‹åï¼Œä¼šè¿›è¡Œä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœæœ‰è¿™ä¸ªç±»åï¼Œåˆ™è¯´æ˜æˆ‘ä»¬è¿›å…¥äº†æœç´¢é¡µé¢ï¼Œå°†ç„¦ç‚¹ç»™åˆ°è¾“å…¥æ¡†ï¼ˆ`$searchInput.focus()`ï¼‰ï¼Œå¹¶ä¸”ä¸º**ç®­å¤´icon**è®¾ç½®ä¸€ä¸ªç‚¹å‡»æ–¹æ³•ï¼ˆ`$searchClose.on()`ï¼‰ï¼Œç‚¹å‡»**ç®­å¤´icon**åç§»é™¤é¡µé¢çš„`'search-active'`ç±»åï¼Œå¹¶å›æ»š`body`çš„ç±»åï¼ˆå…¶å®å°±æ˜¯æŠŠä¹‹å‰åŠ ä¸Šçš„`'no-scroll'`å»æ‰ï¼‰

æ‰€ä»¥æ€»çš„æµç¨‹å°±æ˜¯è¿™æ ·ï¼š
`ç»™æœç´¢iconæ·»åŠ ç‚¹å‡»äº‹ä»¶ -> åœ¨é¦–é¡µç‚¹å‡»æœç´¢iconï¼Œæ‰“å¼€æœç´¢é¡µ -> æ·»åŠ 'search-active'ã€'no-scroll'ç±»åï¼›ç»™ç®­å¤´iconæ·»åŠ ç‚¹å‡»äº‹ä»¶ -> åœ¨æœç´¢é¡µç‚¹å‡»ç®­å¤´iconï¼Œå›åˆ°é¦–é¡µ -> åˆ æ‰'search-active'ã€'no-scroll'ç±»å`

### æ·»åŠ æ ·å¼

å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬é¦–é¡µé¡¶ä¸Šä»æ˜¯æœ‰ä¸€ç‰‡ç™½è‰²åŒºåŸŸï¼Œç‚¹å‡»æœç´¢iconèšç„¦åˆ°æœç´¢æ¡†ï¼Œè¾“å…¥å†…å®¹ä¹Ÿèƒ½åŠ¨æ€å‡ºç°ç»“æœã€‚  
ä½†æ˜¯è¿™ç‰‡ç™½è‰²åŒºåŸŸè‚¯å®šä¸èƒ½å°±è¿™æ ·æ”¾ç€çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç‚¹å‡»æœç´¢iconçš„æ—¶å€™å°†å®ƒå¼¹å‡ºï¼Œè¿™ä¸»è¦é€šè¿‡æ·»åŠ æ ·å¼æ¥å®ç°ã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨`search.html`é‡Œè®¾å®šçš„å¾ˆå¤šç±»åï¼Œä»¥åŠåœ¨`footer.html`ä¸­æ·»åŠ çš„`'search-active'`ç±»åå§ï¼Œä»–ä»¬ä»£è¡¨äº†æ•´ä¸ªæœç´¢é¡µé¢ï¼Œæ‰€ä»¥éœ€è¦ç»™ä»–ä»¬è®¾ç½®æ ·å¼ã€‚

è™½ç„¶ä¸œè¥¿æœ‰ç‚¹å¤šï¼Œä½†æ˜¯æ ·å¼è¿™ç©æ„ä¹Ÿæ²¡ä»€ä¹ˆé€»è¾‘ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¤åˆ¶ç²˜è´´ï¼š

1. æ–°å»º`less/search.less`æ–‡ä»¶ï¼Œå†…å®¹æœ‰ç‚¹é•¿å°±ä¸è´´å‡ºæ¥äº†ï¼Œå¯ä»¥ç›´æ¥å»å¤åˆ¶æºæ–‡ä»¶ï¼š[less/search.less](https://github.com/BlackDn/BlackDn.github.io/blob/master/less/search.less)
2. åœ¨`less/hux-blog.less`ä¸­å¼•å…¥`search.less`ï¼Œåœ¨å…¶å¼€å¤´æ·»åŠ ä¸€è¡Œ`@import "search.less";`
3. åœ¨`css/hux-blog.css`å’Œ`css/hux-blog.min.css`ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```css
/* in hux-blog.css and hux-blog.min.css */
.search-page {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
  background: #fff;
  -webkit-transition: all 400ms cubic-bezier(0.32, 1, 0.23, 1);
  transition: all 400ms cubic-bezier(0.32, 1, 0.23, 1);
  -webkit-transform: translate(0, 100%);
  -ms-transform: translate(0, 100%);
  transform: translate(0, 100%);
  opacity: 0;
}
.search-page.search-active {
  opacity: 1;
  -webkit-transform: translate(0, 0) scale(1, 1);
  -ms-transform: translate(0, 0) scale(1, 1);
  transform: translate(0, 0) scale(1, 1);
}
.search-page.search-active .search-main {
  opacity: 1;
}
.search-page .search-main {
  padding-top: 80px;
  height: 100%;
  opacity: 0;
  -webkit-transition: all 400ms cubic-bezier(0.32, 1, 0.23, 1) 250ms;
  transition: all 400ms cubic-bezier(0.32, 1, 0.23, 1) 250ms;
}
.search-page .search-main .row,
.search-page .search-main .row > div {
  height: 100%;
}
.search-page .search-icon-close-container {
  position: absolute;
  z-index: 1;
  padding: 16px;
  top: 0;
  right: 2px;
}
.search-page .search-icon-close-container i {
  font-size: 20px;
}
.search-page #search-input {
  font-family: "Fira Code", Menlo, Monaco, Consolas, "Courier New", monospace;
  border: none;
  outline: none;
  padding: 0;
  margin: 0;
  width: 100%;
  font-size: 30px;
  font-weight: bold;
  color: #404040;
}
@media only screen and (min-width: 768px) {
  .search-page #search-input {
    margin-left: 20px;
  }
}
.search-page #search-results {
  overflow: auto;
  height: 100%;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 80px;
}
.search-icon a,
.search-icon-close {
  cursor: pointer;
  font-size: 30px;
  color: #311e3e;
  -webkit-transition: all 0.25s;
  transition: all 0.25s;
}
.search-icon a:hover,
.search-icon-close:hover {
  opacity: 0.8;
}
.search-icon,
.search-icon-close {
  font-size: 16px;
}
```

è¿™é‡Œè§£é‡Šä¸€ä¸‹å‡ ä¸ªæ–‡ä»¶ç±»å‹ï¼Œ`css`æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„æ ·å¼æ–‡ä»¶ï¼›`.min.css`è¡¨ç¤ºå‹ç¼©åçš„cssæ–‡ä»¶ï¼Œå®ƒé€šå¸¸å»æ‰äº†å»æ‰å¤šä½™çš„æ³¨é‡Šã€ç©ºæ ¼ç­‰ï¼Œæ–‡ä»¶è¾ƒå°ï¼Œæ˜“äºåŠ è½½ï¼Œä½†æ˜¯å¯è¯»æ€§å·®ï¼Œé€šå¸¸æ²¡æœ‰ç©ºæ ¼å’Œæ¢è¡Œã€‚ï¼ˆä¸è¿‡æˆ‘ä»¬è¿™ä¸ªåšå®¢æ ·å¼ä½“é‡æ¯”è¾ƒå°æ‰€ä»¥æˆ‘å¥½åƒä¹ŸæŠŠå®ƒæ ¼å¼åŒ–äº†ï¼‰   
`.less`åˆ™æ˜¯Lessè¿™ç§é¢„å¤„ç†cssçš„è¯­è¨€çš„æ–‡ä»¶ï¼Œå’Œ[Saas](https://blackdn.github.io/2022/08/16/CSS-Manual-2022/#sass)æ˜¯åŒä¸€ç§ç±»ï¼Œå…è®¸ä½¿ç”¨å˜é‡ã€ç¼–å†™å‡½æ•°ç­‰ï¼Œè®©cssçš„ç¼–å†™æ›´é«˜æ•ˆã€‚

### å–æ¶ˆæœç´¢é¡µçš„å¤–éƒ¨æ»šåŠ¨

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„å¼¹å‡º/æ”¶èµ·æœç´¢é¡µé¢å’Œç®€å•çš„æœç´¢åŠŸèƒ½å·²ç»å®ç°äº†ï¼Œæœç´¢ç»“æœçš„æ–‡ç« ä¼šéšç€æˆ‘ä»¬åœ¨æœç´¢æ¡†çš„è¾“å…¥åŠ¨æ€æ›´æ–°ã€‚å¦‚æœåŒ¹é…çš„æ–‡ç« å¾ˆå¤šçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥æ»šåŠ¨æŸ¥çœ‹ã€‚  
ä½†æ˜¯è¿˜æœ‰ç¾ä¸­ä¸è¶³çš„ä¸€ç‚¹ï¼Œå°±æ˜¯å¤–éƒ¨é¡µé¢çš„æ»šåŠ¨æ¡ä»ç„¶å­˜åœ¨ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥å¯¹å¤–éƒ¨é¡µé¢è¿›è¡Œæ»šåŠ¨ï¼Œè™½ç„¶åœ¨è§†è§‰ä¸Šæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æ¨å‡ºæœç´¢é¡µé¢ï¼Œå°±ä¼šå‘ç°å¤–éƒ¨é¡µé¢çš„ä½ç½®æ”¹å˜äº†ã€‚  
ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å–æ¶ˆå¤–éƒ¨é¡µé¢çš„æ»šåŠ¨ï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬ä¹‹å‰åœ¨`footer.html`ä¸­æ‰€ç”Ÿæˆçš„`'no-scroll'`ç±»åå°±æ´¾ä¸Šç”¨åœºäº†ã€‚

ä»ä¸Šé¢çš„ä»£ç å¯çŸ¥ï¼Œæˆ‘ä»¬å®é™…ä¸Šåœ¨**è¿›å…¥æœç´¢é¡µé¢å‰**è®°å½•äº†å¤–éƒ¨é¡µé¢`body`çš„ç±»åï¼ˆå®é™…ä¸Š`body`æ²¡æœ‰ç±»åï¼‰ï¼Œç„¶ååœ¨**è¿›å…¥æœç´¢é¡µé¢å**ä¸º`body`è®¾ç½®äº†`'no-scroll'`ç±»åï¼Œæœ€åé€€å‡ºæœç´¢é¡µé¢çš„æ—¶å€™å›æ»š`body`çš„ç±»åï¼ˆå˜æˆè¿›å…¥å‰æ²¡æœ‰ç±»åçš„çŠ¶æ€ï¼‰  
æ‰€ä»¥`'no-scroll'`è¿™ä¸ªå…¨æ–°çš„ç±»åå°±æ˜¯ç”¨æ¥å–æ¶ˆå¤–éƒ¨æ»šåŠ¨çš„ï¼Œæˆ‘ä»¬åªç”¨å®ç°è¿™ä¸ªç±»åçš„æ ·å¼å³å¯ã€‚æˆ‘ä»¬åœ¨`hux-blog.css`ã€`hux-blog.less`å’Œ`hux-blog.min.css`è¿™ä¸‰ä¸ªæ ·å¼æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯ï¼š

```css
/* in hux-blog.css, hux-blog.less, hux-blog.min.css */
.no-scroll {
  overflow-y: hidden;
}
```

### æœ€å

ç°åœ¨å’±ä»¬é¢„æƒ³çš„æœç´¢åŠŸèƒ½å°±ç®—å®ç°å•¦ã€‚
åˆ·æ–°ä¸€ä¸‹åšå®¢æ¥æµ‹è¯•ä¸€ä¸‹å§ï¼Œè®°å¾—è¦åˆ æ‰ç¼“å­˜å“¦ï½

## å‚è€ƒ
1. [About GitHub Pages](https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages#limits-on-use-of-github-pages)
2. [Jekyll](https://jekyllrb.com/)
3. [Font Awesome](https://fontawesome.com/)
4. [Simple-Jekll-Search](https://github.com/christian-fei/Simple-Jekyll-Search)

