---
layout: post
title: HarmonyOSï¼šé¸¿è’™ç®€ä»‹å’ŒArkTSè¯­è¨€åŸºç¡€
subtitle: é¸¿è’™ç³»ç»Ÿç®€ä»‹ã€å·¥ç¨‹ç›®å½•ç»“æ„åŠArkTSçš„åŸºç¡€è¯­æ³•ç­‰
date: 2025-03-04
author: BlackDn
header-img: img/21mon1_28.jpg
catalog: true
tags:
  - HarmonyOS
---

> "å±±å±…äºæ­¤ï¼Œå¾…åˆ°èƒ­è„‚ç”¨å°½æ—¶ï¼Œæ¡ƒèŠ±å†å¼€ã€‚"


# HarmonyOSï¼šé¸¿è’™ç®€ä»‹å’ŒArkTSè¯­è¨€åŸºç¡€
## å‰è¨€

æƒ³èµ·å¯†ç äº†=v=  
ç¬‘æ­»ï¼Œä¸æ•¢ç›¸ä¿¡ä¸Šä¸€æ–‡ç« æ˜¯ä¸€å¹´å‰çš„  
ä¹‹å‰è¿˜è±ªè¨€å£®å¿—ç«‹flagï¼Œè¯´ä»€ä¹ˆåŠä¸ªæœˆä¸€ç¯‡ã€ä¸€ä¸ªæœˆä¸€ç¯‡  
ç°åœ¨æ˜¯è¿ä¸ªpéƒ½ä¸æ•¢æ”¾ğŸ˜­

## HarmonyOS ç®€ä»‹

åä¸ºå®˜æ–¹çš„å®˜è¨€å®˜è¯­é•‡æ¥¼ï¼šHarmonyOS æ˜¯æ–°ä¸€ä»£çš„æ™ºèƒ½ç»ˆç«¯æ“ä½œç³»ç»Ÿï¼Œä¸ºä¸åŒè®¾å¤‡çš„æ™ºèƒ½åŒ–ã€äº’è”ä¸ååŒæä¾›äº†ç»Ÿä¸€çš„è¯­è¨€ï¼Œä¸ºç”¨æˆ·å¸¦æ¥ç®€æ·ï¼Œæµç•…ï¼Œè¿ç»­ï¼Œå®‰å…¨å¯é çš„å…¨åœºæ™¯äº¤äº’ä½“éªŒã€‚

åœ¨ HarmonyOS çš„ç†å¿µä¸­ï¼Œå½“å‰ç§»åŠ¨å¼€å‘çš„æ–°æŒ‘æˆ˜åœ¨äº **ä¸åŒå±å¹•å’Œè®¾å¤‡ç±»å‹ï¼ˆå¤§å°å±ã€æŠ˜å å±ã€æ‰‹è¡¨ä¹‹ç±»çš„ï¼‰**ã€**å…¨æ–°çš„äº¤äº’æ–¹å¼ï¼ˆè§¦æ‘¸ã€é¥æ§ã€è¯­éŸ³ç­‰ï¼‰**ã€**å¤šè®¾å¤‡åˆ†å¸ƒå¼ååŒï¼ˆæ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ååŒå·¥ä½œï¼‰**   
å› æ­¤ï¼ŒHarmonyOS æå‡ºäº†ä¸‰å¤§æŠ€æœ¯ç†å¿µï¼š
- **ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯éƒ¨ç½²**ï¼šå¤šè®¾å¤‡ã€å¤šå…¥å£ã€æŒ‰éœ€åˆ†å‘ã€‚ä¸ºæ­¤ï¼ŒHarmonyOS æä¾›äº†**å¤šç«¯å¼€å‘ç¯å¢ƒ**ã€**å¤šç«¯å¼€å‘èƒ½åŠ›**ã€**å¤šç«¯åˆ†å‘æœºåˆ¶**ç­‰æ ¸å¿ƒèƒ½åŠ›
- **å¯åˆ†å¯åˆï¼Œè‡ªç”±æµè½¬**ï¼š**å¯åˆ†å¯åˆ**æŒ‡çš„æ˜¯å¼€å‘æ—¶å°†åº”ç”¨æ‰“åŒ…æˆå¤šä¸ª`æ¨¡å—ï¼ˆModuleï¼‰`ï¼Œåœ¨éƒ¨ç½²æ—¶å¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—è‡ªç”±ç»„åˆï¼Œæ‰“åŒ…æˆå¤šä¸ª`App Pack`ï¼Œæ¯ä¸ª`App Pack`éœ€è¦å•ç‹¬ä¸Šæ¶ï¼Œä»–ä»¬å¯ä»¥ä½œä¸º **å…ƒæœåŠ¡** ä¾›ç”¨æˆ·ä½¿ç”¨ã€‚**è‡ªç”±æµè½¬**å¯åˆ†ä¸º**è·¨ç«¯è¿ç§»**å’Œ**å¤šç«¯ååŒ** ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ‰‹æœºå’Œç”µè„‘åŒæ—¶ä½¿ç”¨å¤‡å¿˜å½•åº”ç”¨ï¼Œä¸¤è€…çš„æ“ä½œä¼šè¢«åŒæ­¥ï¼Œå¯ä»¥ååŒæ“ä½œï¼›æ‰‹æœºä¸Šå¤åˆ¶çš„å†…å®¹å¯ä»¥åœ¨ç”µè„‘ä¸Šç›´æ¥ç²˜è´´ç­‰ç­‰ã€‚ 
  **å…ƒæœåŠ¡**æ˜¯æ”¯æ’‘å¯åˆ†å¯åˆï¼Œè‡ªç”±æµè½¬çš„è½»é‡åŒ–ç¨‹åºå®ä½“ã€‚
- **ç»Ÿä¸€ç”Ÿæ€ï¼ŒåŸç”Ÿæ™ºèƒ½**ï¼šæ”¯æŒä¸šç•Œä¸»æµè·¨å¹³å°å¼€å‘æ¡†æ¶ï¼ˆReact Nativeã€Flutterã€WEEXã€Taroç­‰ï¼‰ã€‚æ­¤å¤– HarmonyOS è¿˜å†…ç½®äº†AIèƒ½åŠ›ï¼Œå¦‚`Core AI API`æä¾›äº†è¯­è¨€è¯­éŸ³ã€OCRã€äººè„¸ç­‰è¯†åˆ«èƒ½åŠ›ã€‚

ä¸€äº›å®˜æ–¹æ–‡æ¡£å¦‚ä¸‹ï¼š
- [HarmonyOS æŠ€æœ¯æ–‡æ¡£](https://developer.huawei.com/consumer/cn/doc/)
- [HarmonyOS APIå‚è€ƒ](https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/syscap-V5?catalogVersion=V5)
- [é¸¿è’™ç”Ÿæ€åº”ç”¨å¼€å‘ç™½çš®ä¹¦](https://developer.huawei.com/consumer/cn/doc/guidebook/harmonyecoapp-guidebook-0000001761818040)

### åº”ç”¨å’Œå…ƒæœåŠ¡

åœ¨ä¸Šé¢çš„`å¯åˆ†å¯åˆï¼Œè‡ªç”±æµè½¬` ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†**å…ƒæœåŠ¡**ï¼Œå®ƒå’Œå¹³æ—¶éœ€è¦ä¸‹è½½å®‰è£…çš„Appä¸åŒï¼Œæ˜¯ HarmonyOS æä¾›çš„å¦ä¸€ç§æœåŠ¡å½¢æ€


| åŒºåˆ«   | ç‰¹å¾                                         | è½½ä½“         | APIèŒƒå›´     | ç»è¥                                                 |
| ------ | -------------------------------------------- | ------------ | ----------- | ---------------------------------------------------- |
| App    | æ‰‹åŠ¨ä¸‹è½½å®‰è£…ã€åŒ…å¤§å°æ— é™åˆ¶ã€åº”ç”¨å†…æˆ–å¸‚åœºæ›´æ–° | è·Ÿéšè®¾å¤‡     | å…¨é‡API     | è‡ªä¸»è¿è¥                                             |
| å…ƒæœåŠ¡ | å…å®‰è£…ã€åŒ…å¤§å°æœ‰é™åˆ¶ã€å³ç”¨å³èµ°               | è·Ÿéšåä¸ºè´¦å· | å…ƒæœåŠ¡APIé›† | æ”¯ä»˜ã€åœ°å›¾ã€å¹¿å‘Šç­‰è¾…åŠ©ç»è¥ã€‚å¯ç”¨è´Ÿä¸€å±ç­‰ç³»ç»Ÿåˆ†å‘å…¥å£ |



## åº”ç”¨ç¨‹åºæ¡†æ¶å’Œåº”ç”¨æ¨¡å‹

**åº”ç”¨æ¨¡å‹**æ˜¯ä¸€ç§æŠ½è±¡æè¿°ï¼Œæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„è¯­è¨€å’Œæ¶æ„æ¥æè¿°ç¨‹åºçš„å„ä¸ªæ–¹é¢ï¼Œå¦‚ç»„ä»¶ã€ä»»åŠ¡ç®¡ç†ã€åŒ…ç®¡ç†ã€è¿›ç¨‹æ¨¡å‹ã€çº¿ç¨‹æ¨¡å‹ç­‰ã€‚ä»æ¨¡å‹æ¼”è¿›è§’åº¦åˆ†ä¸º**FAæ¨¡å‹**å’Œ**Stageæ¨¡å‹**ï¼ŒHarmonyOS é€‰æ‹© Stageæ¨¡å‹ è¿›è¡Œé•¿æœŸæ¼”è¿›ã€‚   
**åº”ç”¨ç¨‹åºæ¡†æ¶ï¼ˆApplication Frameworkï¼‰** æ˜¯åº”ç”¨æ¨¡å‹çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹æ¡†æ¶ï¼Œç”¨æ¥ç®€åŒ–åº”ç”¨ç¨‹åºçš„å¼€å‘è¿‡ç¨‹ã€‚å¯¹å¼€å‘è€…æ¥è¯´ï¼Œå®ƒæä¾›åº”ç”¨è¿›ç¨‹ç®¡ç†ã€åº”ç”¨å’Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸè°ƒåº¦ã€ç³»ç»Ÿç¯å¢ƒç›‘å¬ç­‰èƒ½åŠ›ï¼Œæ˜¯è¿æ¥å¼€å‘è€…ä¸ç”¨æˆ·çš„æ¡¥æ¢ã€‚   
ä»–ä¿©çš„å…³ç³»æœ‰ç‚¹åƒæ–¹æ³•è®ºå’Œå…·ä½“å®ç°ã€‚

### Stageæ¨¡å‹è®¾è®¡

- **ä¸ºå¤æ‚åº”ç”¨è®¾è®¡è€Œç”Ÿ**ï¼šä¸åŒåº”ç”¨ç»„ä»¶é—´å®ä¾‹å…±äº«ã€åŸºäºé¢å‘å¯¹è±¡çš„å¼€å‘æ¨¡å¼
- **åŸç”Ÿæ”¯æŒç»„ä»¶çº§çš„è·¨ç«¯è¿ç§»å’Œå¤šç«¯ååŒ**ï¼šUIAbility ä¸ UIåˆ†ç¦»ã€UIå±•ç¤ºä¸æœåŠ¡èƒ½åŠ›åˆä¸€çš„ UIAbility ç»„ä»¶
- **æ”¯æŒå¤šè®¾å¤‡å’Œå¤šçª—å£å½¢æ€**ï¼šUIAbility ç”Ÿå‘½å‘¨æœŸå®šä¹‰ã€ç»„ä»¶ç®¡ç†å’Œçª—å£ç®¡ç†è§£è€¦ 
- **å¹³è¡¡åº”ç”¨èƒ½åŠ›ä¸ç³»ç»Ÿç®¡ç†æˆæœ¬**ï¼šä¸¥æ ¼åå°ç®¡ç†ã€ä¸¥æ ¼è¿›ç¨‹æ¨¡å‹ã€åŸºäºåœºæ™¯çš„æœåŠ¡æœºåˆ¶

### åŸºäºStageæ¨¡å‹çš„ HarmonyOS å·¥ç¨‹ç›®å½•ç»“æ„

æ€»çš„æ¥è¯´ï¼Œä¸€ä¸ªHarmonyOS é¡¹ç›®çš„æ–‡ä»¶å¯ä»¥åˆ†æˆ**ArkTSæ–‡ä»¶**ã€**é…ç½®æ–‡ä»¶**å’Œ**èµ„æºæ–‡ä»¶**ï¼Œå…¶å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š

```
â”œâ”€â”€ AppScope
â”‚Â Â  â”œâ”€â”€ app.json5
â”‚Â Â  â””â”€â”€ resources/
â””â”€â”€ entry
 Â Â  â””â”€â”€ src
 Â Â      â””â”€â”€ main
 Â Â       Â Â  â”œâ”€â”€ ets/
 Â Â       Â Â  â”œâ”€â”€ module.json5
 Â Â       Â Â  â””â”€â”€ resources/
```

`AppScope`ç›®å½•å­˜æ”¾é¡¹ç›®çº§çš„å…¨å±€æ–‡ä»¶ï¼Œè€Œ`entry`ç›®å½•åˆ™æ˜¯é¡¹ç›®å·¥ç¨‹ä¸»ä½“ï¼Œå…¶ä¸­`ets/`ç›®å½•å­˜æ”¾æˆ‘ä»¬çš„ArkTSæ–‡ä»¶ï¼Œå³å¼€å‘ä»£ç ã€‚

#### ArkTSæºç æ–‡ä»¶

```
â””â”€â”€ ets
 Â Â  â”œâ”€â”€ entryability
 Â Â  â”‚Â Â  â””â”€â”€ EntryAbility.ts
 Â Â  â””â”€â”€ pages
 Â Â      â””â”€â”€ Index.ets
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`ets/`åŒ…å«`entryability/`ç›®å½•è€Œ`pages/`ç›®å½•  
`entryability/`ä¸­çš„`EntryAbility.ts`æ˜¯æ¨¡å—çš„å…¥å£`UIAbility`æ–‡ä»¶ï¼Œæä¾›äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸå›è°ƒä¾›ä½¿ç”¨ï¼›è€Œ`pages/`çš„`Index.ets`åˆ™æ˜¯é¡µé¢æ–‡ä»¶ï¼Œé€šè¿‡å„ç§ç»„ä»¶ç»˜åˆ¶é¡µé¢ã€‚å…·ä½“å†…å®¹ä»¥åä¼šè¯¦ç»†ä»‹ç»ï¼ˆå¯èƒ½ä¼šåœ¨æ–°çš„æ–‡ç« é‡Œï¼‰ã€‚

#### é…ç½®æ–‡ä»¶

```
â”œâ”€â”€ AppScope
â”‚Â Â  â””â”€â”€ app.json5
â”œâ”€â”€ entry
â”‚   â”œâ”€â”€ oh-package.json5
â”‚Â Â  â””â”€â”€ src
â”‚Â Â      â””â”€â”€ main
â”‚Â Â       Â Â  â””â”€â”€ module.json5
â””â”€â”€ oh-package.json5
```

é…ç½®æ–‡ä»¶ç”¨äºä¸ºç¼–è¯‘å·¥å…·ï¼ˆIDEï¼‰ã€æ“ä½œç³»ç»Ÿï¼ˆç»ˆç«¯è®¾å¤‡ï¼‰ã€åº”ç”¨å¸‚åœºç­‰æä¾›ä¿¡æ¯ã€‚  

`AppScope/app.json5` æ˜¯åº”ç”¨çº§é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«åº”ç”¨å”¯ä¸€æ ‡è¯†ã€ç‰ˆæœ¬å·ã€å›¾æ ‡åç§°ç­‰ä¿¡æ¯  

`entry/src/main/module.json5` æ˜¯æ¨¡å—çº§é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«è¯¥æ¨¡å—çš„åŸºç¡€ä¿¡æ¯ï¼Œå¦‚æ¨¡å—åç§°ã€æ¨¡å—ç±»å‹ã€å¯è¿è¡Œçš„è®¾å¤‡ç§ç±»ï¼ˆ`deviceTypes`ï¼‰ç­‰ã€‚æ­¤å¤–è¿˜åŒ…å«ä¸€äº›åº”ç”¨ç»„ä»¶çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚å…¥å£UIAbilityçš„åç§°ã€è·¯å¾„ï¼Œæ¨¡å—çš„è·¯ç”±è¡¨ã€‚ç³»ç»Ÿæƒé™é…ç½®ï¼ˆ`requestPermissions`ï¼‰ä¿¡æ¯ä¹ŸåŒ…å«å…¶ä¸­ã€‚

`oh-package.json5` æ˜¯ä¾èµ–ç®¡ç†é…ç½®æ–‡ä»¶ï¼Œæ ¹ç›®å½•ä¸‹çš„æ˜¯åº”ç”¨çº§é…ç½®ï¼Œ`entry/`ç›®å½•ä¸‹çš„åˆ™æ˜¯æ¨¡å—çº§é…ç½®ï¼Œå…¶åŒ…å«äº†åç§°ã€ç‰ˆæœ¬å·ã€ä½œè€…ã€ç¬¬ä¸‰æ–¹ä¾èµ–ç­‰ä¿¡æ¯ã€‚

#### èµ„æºæ–‡ä»¶

```
.
â”œâ”€â”€ AppScope
â”‚Â Â  â””â”€â”€ resources
â”‚Â Â      â””â”€â”€ base
â”‚Â Â          â”œâ”€â”€ element
â”‚Â Â          â””â”€â”€ media
â”œâ”€â”€ entry
 Â Â  â””â”€â”€ src
 Â Â      â”œâ”€â”€ main
 Â Â       Â Â  â”œâ”€â”€ ets/
 Â Â       Â Â  â””â”€â”€ resources
 Â Â       Â Â      â”œâ”€â”€ base
 Â Â       Â Â      â”‚Â Â  â”œâ”€â”€ element
 Â Â       Â Â      â”‚Â Â  â”œâ”€â”€ media
 Â Â       Â Â      â”‚Â Â  â””â”€â”€ profile
 Â Â       Â Â      â”œâ”€â”€ en_US
 Â Â       Â Â      â”œâ”€â”€ rawfile
 Â Â       Â Â      â””â”€â”€ zh_CN
```

èµ„æºæ–‡ä»¶ä¹Ÿåˆ†åº”ç”¨çº§èµ„æºï¼ˆ`AppScope/resources`ï¼‰å’Œæ¨¡å—çº§èµ„æºï¼ˆ`entry/src/main/resources`ï¼‰  

- `element/`ç›®å½•ï¼šä¸»è¦æ”¾ç½®é¢œè‰²ã€æ•°å­—ã€å­—ç¬¦ä¸²ç­‰å…ƒç´ èµ„æº
- `media/`ç›®å½•ï¼šä¸»è¦æ”¾ç½®å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰åª’ä½“èµ„æº
- `profile/`ï¼šæ”¾ç½®ä¸€äº›è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå¦‚é¡µé¢é…ç½®ã€å¡ç‰‡é…ç½®ç­‰ã€‚DevEco Studioé»˜è®¤ä¼šåœ¨`profile/`ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª`main_pages.json`æ–‡ä»¶ï¼Œä½œä¸ºè¯¥æ¨¡å—çš„è·¯ç”±é…ç½®ï¼Œåœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è¿›è¡Œä¿®æ”¹ã€‚
- `en_US/zh_CN`ï¼šä¸­è‹±æ–‡ç›®å½•ï¼ŒåŒ…å«ä¸­è‹±æ–‡èµ„æºï¼Œåº”ç”¨è¿è¡Œæ—¶ä¼šæ ¹æ®è®¾å¤‡è¯­è¨€ç¯å¢ƒè‡ªåŠ¨åŒ¹é…å¯¹åº”èµ„æº
- `rawfile/`ï¼šå¯ä»¥å­˜æ”¾å„ç±»èµ„æºï¼Œä½†å®ƒä»¬ä¼šè¢«ç›´æ¥æ‰“åŒ…è¿›åº”ç”¨ï¼Œä¸ç»è¿‡ç¼–è¯‘ï¼Œä¹Ÿä¸ä¼šè¢«èµ‹äºˆèµ„æºæ–‡ä»¶IDã€‚åˆç†ä½¿ç”¨èƒ½ä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼Œè¿‡åº¦ä½¿ç”¨ä¼šå¯¼è‡´å®‰è£…åŒ…è¿‡å¤§ç­‰å¼Šç«¯ã€‚


## ArkTS è¯­è¨€

HarmonyOS é‡‡ç”¨ **ArkTS** è¯­è¨€è¿›è¡Œå¼€å‘ï¼Œä¹Ÿç§°**æ–¹èˆŸè¯­è¨€**   
ArkTS æ˜¯ TypeScript çš„è¿›ä¸€æ­¥æ‰©å±•ï¼Œåœ¨ç»§æ‰¿TypeScriptè¯­æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¼˜åŒ–  
æ¯”å¦‚éœ€è¦åœ¨ç¼–è¯‘æ—¶ç¡®å®šå˜é‡çš„æ•°æ®ç±»å‹ï¼Œæˆä¸ºäº†**é™æ€ç±»å‹è¯­è¨€ï¼ˆå¼ºç±»å‹è¯­è¨€ï¼‰**ï¼Œå¼ºåŒ–äº†é™æ€æ£€æŸ¥ï¼›ç¦æ­¢åœ¨è¿è¡Œæ—¶æ”¹å˜å¯¹è±¡å¸ƒå±€ï¼Œä¸å…è®¸é€šè¿‡`delete`ç­‰æ“ä½œæ¥ä¿®æ”¹å¯¹è±¡çš„å±æ€§ï¼Œä¸æ”¯æŒ`any`ç±»å‹ï¼Œå‡å°æ€§èƒ½å¼€é”€ï¼›å¼ºåŒ–é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå–æ¶ˆäº†åŸå‹æ¦‚å¿µï¼Œé€šè¿‡`extends`å…³é”®å­—è¿›è¡Œç»§æ‰¿ï¼›æä¾›`@Entry`ï¼Œ`@Component`ç­‰è£…é¥°å™¨è¿›è¡ŒåŠŸèƒ½æ”¯æŒ......

åœ¨æˆ‘çœ‹æ¥ï¼ŒArkTSèåˆäº†Javaè¿™ç±»å¼ºç±»å‹è¯­è¨€çš„é™æ€è§„èŒƒæ£€æŸ¥ï¼Œå¼ºåŒ–äº†é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œè£…é¥°å™¨ç­‰åŠŸèƒ½ä¹Ÿæ˜¯åœ¨Javaä¸­è¾ƒä¸ºå¸¸è§ï¼›åŒæ—¶è¯­æ³•è§„èŒƒå’Œ TypeScript ååˆ†ç›¸ä¼¼ï¼Œå˜é‡/å‡½æ•°çš„å£°æ˜å’Œä½¿ç”¨è¯­æ³•åŸºæœ¬ä¸€è‡´ã€‚  
å› æ­¤ï¼Œå¦‚æœä½ ä¹‹å‰æ¥è§¦è¿‡å®‰å“ç§»åŠ¨å¼€å‘ï¼ˆJava/Kotlinï¼‰ï¼Œé‚£ä¹ˆä½ èƒ½å¾ˆå¿«ä¸Šæ‰‹ArkTSï¼›å¦‚æœä½ ä¹‹å‰æ¥è§¦è¿‡å‰æ®µå¼€å‘ï¼ˆJS/TSï¼‰ï¼Œé‚£ä¹ˆä½ èƒ½å¾ˆå¿«ä¸Šæ‰‹ArkTSï¼›å¦‚æœä½ ä¹‹å‰æ¥è§¦è¿‡å¦‚ React Native çš„è·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œé‚£ä¹ˆä½ èƒ½æ›´å¿«ä¸Šæ‰‹ArkTSã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹ArkTSçš„åŸºæœ¬è¯­æ³•ï¼Œä¸€äº›å’Œ JS/TS ç›¸ç±»ä¼¼çš„è¯­æ³•å°±è·³è¿‡äº†

### æ•°æ®ç±»å‹

ArkTS é‡‡ç”¨ `let` å’Œ `const` å…³é”®å­—æ¥å£°æ˜å˜é‡å’Œå¸¸é‡ï¼Œå–æ¶ˆäº† `var` å…³é”®å­—

- åŸºæœ¬ç±»å‹ï¼šstringã€numberã€booleanã€nullã€undefinedã€bigint
- å¼•ç”¨ç±»å‹ï¼šInterfaceã€Objectã€Functionã€Arrayã€Classã€Tupleã€Enum
- è”åˆç±»å‹ï¼šUnion 

**å…ƒç»„ï¼ˆTupleï¼‰** å’Œ **æšä¸¾ï¼ˆEnumï¼‰** ä½œä¸ºç‰¹æ®Šçš„ç±»å‹ï¼Œéƒ½å±äºå¼•ç”¨ç±»å‹    
**è”åˆç±»å‹Union** å…è®¸å˜é‡çš„å€¼ä¸ºå¤šä¸ªç±»å‹ï¼š`let luckyNum: number | string = 7;`   
æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ `type` å…³é”®å­—è®¾ç½®**ç±»å‹åˆ«å Type Aliases**ï¼Œä½œä¸ºç°æœ‰ç±»å‹çš„æ›¿ä»£åç§°ï¼š

```typescript
type Matrix = number[][];
let arr: Matrix = [[1, 2], [2, 3]];
```

#### ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­

ç±»å‹å®‰å…¨å°±æ˜¯ä¸Šé¢æåˆ°çš„å¼ºç±»å‹è¯­è¨€ï¼Œéœ€è¦åœ¨å£°æ˜æ—¶è§„å®šå…¶ç±»å‹ï¼Œæ²¡æœ‰è§„å®šæˆ–è€…é‡æ–°èµ‹å€¼æ–°çš„ç±»å‹å€¼éƒ½ä¼šå¯¼è‡´æŠ¥é”™ï¼›
ArkTSæ”¯æŒ**è‡ªåŠ¨ç±»å‹æ¨æ–­**ï¼Œå³å£°æ˜æ—¶ä¼šæ ¹æ®åˆå§‹å€¼è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç±»å‹ï¼Œä¸éœ€è¦å†æ˜¾ç¤ºå£°æ˜ã€‚

```typescript
name;  // Error: Use explicit types instead of "any", "unknown"
name: string;  // OK
name: string = 'black'; // OK
name = 'black';  //OK, ç±»å‹æ¨æ–­
// å£°æ˜ä¹‹å
name = 42  // Error: 'name' must be of type 'string', but here has type 'number'
```

#### ç©ºå®‰å…¨

è¿™ä¸ªç‰¹æ€§å’Œ TypeScript ç±»ä¼¼ï¼Œåœ¨å˜é‡å£°æ˜æ—¶è‹¥ä¸ç¡®å®šåˆå§‹å€¼ï¼Œé€šå¸¸ä½¿ç”¨è”åˆç±»å‹åŒ…å«nullï¼Œå¹¶è®¾ç½®ä¸ºç©ºï¼ˆnullï¼‰   
å¦‚æ­¤ä¸€æ¥ï¼Œè¿™ä¸ªå˜é‡åˆ™å¯èƒ½ä¸ºç©ºï¼Œä½†æ˜¯å½“å¼•ç”¨çš„æ—¶å€™ï¼Œç©ºå€¼å¯èƒ½ä¼šå¯¼è‡´æŠ¥é”™ï¼š

```typescript
let name: string | null = null;
console.log(name.length.toString()); // Error: Cannot read property length of null
```

ä¸Šè¿°ä¾‹å­ä¸­å› ä¸º `null` ç±»å‹çš„å¯¹è±¡æ²¡æœ‰ `length` å±æ€§ï¼Œå› æ­¤å¯¼è‡´æŠ¥é”™  
ä¸ºäº†é¿å…è¿™ç±»é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¼•ç”¨å‰è¿›è¡Œ**éç©ºæ ¡éªŒ**ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹ä¸‰ç§ç©ºå®‰å…¨æœºåˆ¶ï¼š

##### 1. if/else åˆ¤ç©º

```typescript
if (name != null) {
	console.log(name.length.toString());
}
```

##### 2. ä½¿ç”¨ç©ºå€¼åˆå¹¶è¡¨è¾¾å¼

```typescript
let validName = name ?? 'Default Name';
console.log(validName.length.toString());
```

é‡‡ç”¨ `A ?? B`çš„ç©ºå€¼åˆå¹¶è¡¨è¾¾å¼ï¼Œè‹¥ A ä¸º `null`ï¼Œåˆ™ä¼šè¿”å› B ä½œä¸ºç»“æœã€‚  
å› æ­¤è‹¥ `name` ä¸º `null`ï¼Œåˆ™ä¼šè¿”å› `'Default Name'` ä½œä¸ºç»“æœã€‚

##### 3. ä½¿ç”¨ ? å¯é€‰é“¾

```typescript
let nameLength = name?.length;
```

å¦‚æœ name ä¸ºç©ºï¼Œåˆ™ä¼šè¿”å› `undefined`

### è¯­å¥

#### æ¡ä»¶è¯­å¥

æ¡ä»¶è¯­å¥ä¹Ÿå°±é‚£æ ·ï¼Œ`if-else`ï¼Œ`switch-case`ç­‰éƒ½æ²¡å˜åŒ–ï¼ŒåŒæ—¶ä¸‰å…ƒè¿ç®—çš„æ¡ä»¶è¡¨è¾¾å¼ä¹Ÿç…§æ ·ç”¨ã€‚

```typescript
let isValid = Math.random() > 0.5 ? true : false;
```

#### å¾ªç¯è¯­å¥

å¾ªç¯ä¹Ÿå·®ä¸å¤šï¼Œ`for`ï¼Œ`while/do while`ç…§æ ·ç”¨ï¼Œåªä¸è¿‡è¿™è¾¹ç”¨`for-of`ä»£æ›¿äº†`for-each`

```typescript
for (let student of students) {
	console.log(student.name)
}
```


### å‡½æ•°

å‡½æ•°å£°æ˜åŸºæœ¬å’ŒTSä¸€æ ·ï¼Œè¿™è¾¹ä¸»è¦çœ‹ä¸€ä¸‹å‚æ•°åˆ—è¡¨ï¼š

```typescript
function introduce(name: string, gender?: string, age: number = 18, ...hobbies: string[]): void {  
  console.log(`name: ${name}, age: ${age}`)  
  console.log(gender ? `gender: ${gender}` : 'gender is secret')  
  console.log(hobbies.length > 0 ? `hobbies are ${hobbies.join(',')}` : 'No hobbies')  
}
```

å‚æ•°åˆ—è¡¨é‡Œçš„å‚æ•°å¯åˆ†ä¸ºå¿…é€‰å‚æ•°ã€å¯é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°   
**å¿…é€‰å‚æ•°**æ˜¯å¿…é¡»æœ‰çš„ï¼Œè°ƒç”¨çš„æ—¶å€™å¦‚æœä¸ä¼ ä¼šæŠ¥é”™ï¼›**å¯é€‰å‚æ•°**ç”¨`?`ä¿®é¥°ï¼Œå¯ä»¥ä¸ä¼ ï¼Œå¦‚æœä¸ä¼ çš„è¯åœ¨å‡½æ•°ä½“å†…ä¼šä½œä¸º `undefined`ï¼›**é»˜è®¤å‚æ•°**å°±æ˜¯åœ¨å‚æ•°åˆ—è¡¨é‡Œç»™å‡½æ•°èµ‹ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¦‚æœè°ƒç”¨æ—¶æ²¡æœ‰ä¼ å…¥å€¼å°±ç”¨è¿™ä¸ªé»˜è®¤å€¼ï¼›**å‰©ä½™å‚æ•°**ä¹Ÿç§°**Restå‚æ•°**ï¼Œéœ€è¦æ”¾åœ¨å‚æ•°åˆ—è¡¨æœ«å°¾ï¼Œä¼šå°†å‰©ä½™çš„å‚æ•°ä½œä¸ºä¸€ä¸ªæ•°ç»„ä¼ å…¥ã€‚

å‡½æ•°çš„è¿”å›ç±»å‹ä¹Ÿæ”¯æŒè‡ªåŠ¨ç±»å‹æ¨æ–­ï¼Œå¦‚æœå¯ä»¥ä»å‡½æ•°ä½“å†…æ¨æ–­å‡ºå‡½æ•°è¿”å›ç±»å‹ï¼Œåˆ™å¯åœ¨å‡½æ•°å£°æ˜ä¸­çœç•¥æ ‡æ³¨è¿”å›ç±»å‹ã€‚  
å¯¹äºä¸éœ€è¦è¿”å›å€¼çš„å‡½æ•°ï¼ˆæ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼‰ï¼Œå¯ä»¥æ˜¾å¼æŒ‡å®šä¸º `void`ï¼Œæˆ–è€…ç›´æ¥çœç•¥ã€‚

ä¸Šè¿°ä¾‹å­ä¸­ç”¨åˆ°äº†**å­—ç¬¦ä¸²æ¨¡æ¿**ï¼Œç”¨åå¼•å·è¡¨ç¤ºï¼Œæ—¢å¯ä»¥å¼•ç”¨ä¸€ä¸ªå˜é‡ï¼ˆå¦‚`${gender}`ï¼‰ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆå¦‚`${hobbies.join(',')}`ï¼‰

æ­¤å¤–ï¼Œç®­å¤´å‡½æ•°/lambdaè¡¨è¾¾å¼ç…§æ ·ç”¨

#### é—­åŒ…

ç®€å•æ¥è¯´å°±æ˜¯ä¸ºè¿™ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·èƒ½å¤Ÿä¿ç•™è¿™ä¸ªå‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„å€¼ï¼Œé¿å…æ‰§è¡Œå®Œå°±è¢«é”€æ¯

```typescript
function f(): () => number {
  let count = 0;
  let g = (): number => { count++; return count; };
  return g;
}

let z = f();
z(); // è¿”å›ï¼š1
z(); // è¿”å›ï¼š2
```


### ç±»å’Œå¯¹è±¡

è¿™éƒ¨åˆ†å°±æ¯”è¾ƒåƒ Java äº†ï¼Œ`class` å£°æ˜ç±»ï¼Œç„¶å `new` ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚  
ç±»ä¸­å¯ä»¥ç”¨ `constructor` å…³é”®å­—æ¥ä¿®é¥°æ„é€ æ–¹æ³•ï¼Œå¯ä»¥è®¾ç½®å±æ€§ã€æ–¹æ³•ï¼Œå¯ä»¥ç”¨**å¯è§æ€§ä¿®é¥°ç¬¦**ä¿®é¥°å±æ€§å¹¶æä¾›é…å¥—çš„ `getter` å’Œ `setter`ï¼Œå¯ä»¥ç”¨ `static` å£°æ˜é™æ€å±æ€§ï¼ˆç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ä¸€ä¸ªé™æ€å±æ€§ï¼‰

```typescript
class Person {  
  public name = 'black'  
  private _age = 18  
  
  constructor(name: string, age: number) {  
    this.name = name  
    this._age = age  
  }  
  
  public set setAge(age: number) {  
    this._age = age  
  }  
  public get getAge() {  
    return this._age  
  }  
}
```

å¯è§æ€§ä¿®é¥°ç¬¦åŒ…æ‹¬ `private`ã€`protected`ã€`public`ï¼Œé»˜è®¤ä¸º `public`ã€‚Java å°ä¼™ä¼´ä¼šæ¯”è¾ƒç†Ÿæ‚‰ï¼Œè¿™å°±æ˜¯æ¯”è¾ƒåŸºæœ¬çš„**å°è£…**.  

å½“ç„¶è¿˜æœ‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼Œç”¨ `abstract` å…³é”®å­—ä¿®é¥°ï¼ŒåŸºæœ¬å¤§åŒå°å¼‚ï¼Œå°±ä¸å¤šè¯´äº†ã€‚è¦æ³¨æ„æŠ½è±¡æ–¹æ³•åªèƒ½å£°æ˜åœ¨æŠ½è±¡ç±»ä¸­ã€‚

#### ç»§æ‰¿

é¢å‘å¯¹è±¡çš„è€ç†Ÿäººäº†ï¼Œ`extends` å…³é”®å­—è¡¨ç¤ºç»§æ‰¿ï¼Œé€šè¿‡ `super` è°ƒç”¨çˆ¶ç±»æ–¹æ³•

```typescript
class Student extends Person {  
  studentId: string;  
  constructor(name: string, age: number, studentId: string) {  
    super(name, age)  
    this.studentId = studentId  
  }  
}
```

å°è£…å’Œç»§æ‰¿æœ‰äº†ï¼Œå½“ç„¶è¿˜æœ‰å¤šæ€ï¼Œä¸»è¦ä½“ç°åœ¨æ–¹æ³•çš„é‡å†™å’Œé‡è½½ï¼Œè¿™é‡Œå°±ä¸ä¸¾ä¾‹äº†ã€‚

### æ¥å£

æ¯•ç«Ÿâ€œæ¥å£æ˜¯ç‰¹æ®Šçš„æŠ½è±¡ç±»ç±»â€ï¼ŒArkTSè‡ªç„¶ä¹Ÿæ”¯æŒæ¥å£ã€‚  
ç”¨ `interface` å…³é”®å­—å£°æ˜æ¥å£ï¼Œå…¶ä¸­å¯ä»¥åŒ…å«å±æ€§ã€å¯é€‰å±æ€§ã€åªè¯»å±æ€§ï¼ˆ`readonly` è¡¨ç¤ºï¼‰ç­‰ï¼Œä¹Ÿå¯ä»¥å£°æ˜æ–¹æ³•ï¼Œæ¥å£å’Œæ¥å£ä¹‹é—´ä¹Ÿå¯ä»¥ç»§æ‰¿ï¼š

```typescript
interface AreaSize {  
  x: number;  
  y: number;  
  size?: number;  
  readonly address: string;  
}  
  
interface NewAreaSize extends AreaSize {  
  z: number;  
}

interface AreaCalculator {  
  calculateAreaSize(): number;  
}
```

å¯¹äºåªæœ‰å±æ€§çš„æ¥å£å¯ä»¥ç›´æ¥ä½¿ç”¨å­—é¢é‡æ¥åˆ›å»ºå®ä¾‹ï¼›å¦‚æœæ¥å£ä¸­æœ‰æ–¹æ³•ï¼Œåˆ™å°±éœ€è¦é€šè¿‡ `implements` å…³é”®å­—å®ç°æ¥å£ï¼Œå¹¶å®ç°æ¥å£ä¸­çš„æ–¹æ³•

```typescript
let area: AreaSize = {  
  x: 10,  
  y: 10,  
  address: 'center'  
}

class Rectangle implements AreaCalculator {  
  width = 2  
  height = 3  
  calculateAreaSize(): number {  
    return this.width * this.height  
  }  
}
```

### æ¨¡å—

ä¸€ä¸ªArkTSæ–‡ä»¶çš„ä½œç”¨åŸŸæ˜¯ç‹¬ç«‹çš„ï¼Œä¸€ä¸ªæ–‡ä»¶å°±å¯ä»¥æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚å¦‚æœæƒ³ä½¿ç”¨å…¶ä»–æ¨¡å—çš„å˜é‡æˆ–æ–¹æ³•ç­‰ï¼Œå°±éœ€è¦é€šè¿‡ `import` å¯¼å…¥ï¼Œå½“ç„¶å‰ææ˜¯å¯¹æ–¹å·²ç»é€šè¿‡ `export` å¯¼å‡ºäº†ã€‚  
å¯¼å…¥æ—¶è¿˜å¯ä»¥é€šè¿‡ `as` å¯¹å¯¼å…¥çš„å¯¹è±¡è¿›è¡Œé‡å‘½å

```typescript
// in Person.ets
export class Person { 
  name: string
  age: number
  
  constructor(name: string, age: number) {  
    this.name = name  
    this.age = age  
  }  
}

export function greeting() {  
  console.log('hello world')  
}

// in Index.ets
import {Person as PersonClass, greeting} from './Person';

const person = new Person('blacl', 18)
greeting()
```

#### åŠ¨æ€å¯¼å…¥

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé™æ€å¯¼å…¥æ¨¡å—å¯èƒ½ä¼šå¸¦æ¥æ€§èƒ½æˆ–åŠŸèƒ½ä¸Šçš„ç¼ºé™·ï¼Œæ¯”å¦‚å¯¼å…¥çš„æ¨¡å—éœ€è¦å¼‚æ­¥è·å–ã€æ¨¡å—å¤ªå¤§å¯¼è‡´ä»£ç åŠ è½½æ—¶é—´è¿‡é•¿ç­‰ï¼Œè¿™äº›æ—¶å€™æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ **åŠ¨æ€å¯¼å…¥ï¼ˆDynamic Importï¼‰** çš„æ–¹å¼

`import()` æ–¹æ³•å¯ä»¥åŠ è½½æ¨¡å—å¹¶è¿”å›ä¸€ä¸ª `promise`ï¼Œ`resolve` çš„ç»“æœä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†è¿™ä¸ªæ¨¡å—ä¸­æ‰€æœ‰ `export` å‡ºçš„ä¸œè¥¿

```typescript
import('./Person').then((obj: ESObject) => {  
  obj.greeting()  
}).catch((err: Error) => {  
  console.error("Module dynamic import error: ", err);  
});
```

åŠ¨æ€å¯¼å…¥æ”¯æŒæ¡ä»¶å»¶è¿ŸåŠ è½½ï¼Œæ”¯æŒéƒ¨åˆ†åå°„åŠŸèƒ½ï¼Œåˆç†ä½¿ç”¨èƒ½æé«˜åŠ è½½é€Ÿåº¦ã€‚

## å‚è€ƒ

1. [é¸¿è’™ç”Ÿæ€åº”ç”¨å¼€å‘ç™½çš®ä¹¦](https://developer.huawei.com/consumer/cn/doc/guidebook/harmonyecoapp-guidebook-0000001761818040)
2. [HarmonyOS æŠ€æœ¯æ–‡æ¡£](https://developer.huawei.com/consumer/cn/doc/)ï¼Œ[HarmonyOS APIå‚è€ƒ](https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/syscap-V5?catalogVersion=V5)

